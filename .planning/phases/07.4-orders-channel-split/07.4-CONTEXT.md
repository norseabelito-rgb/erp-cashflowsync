# Phase 7.4: Orders Channel Split - Context

**Gathered:** 2026-02-03
**Status:** Ready for planning

<domain>
## Phase Boundary

Split the Orders page by sales channel into tabs (Shopify/Trendyol/Temu). Each tab shows only orders from that source. Manual order creation available for Shopify tab. Temu tab shows placeholder until implemented.

</domain>

<decisions>
## Implementation Decisions

### Tab design & behavior
- Show count badges on each tab (e.g., "Shopify (24)")
- Default tab is Shopify (most orders come from there)
- Tab state persists in URL (?tab=trendyol) for shareable links and refresh persistence
- Temu tab shows placeholder message "Urmeaza sa fie implementat" with icon

### Manual order creation
- Product selection via SKU/name search (type to search, select from dropdown)
- Full customer address required (name, phone, email, full shipping address for AWB)
- Orders pushed to Shopify + local DB (Shopify as source of truth)
- Price auto-filled from MasterProduct sale price, not editable by user

### Channel-specific display
- Same columns across all tabs (consistent view, source shown as badge)
- Processing errors shown both ways: collapsible panel above table + inline red badge on order row
- Error panel shows all channels' errors globally (not filtered by current tab)
- Bulk actions (factura + AWB) identical across all tabs

### Filter persistence
- Filters (date, store, status) shared across all tabs
- Page number resets to 1 when switching tabs
- Store dropdown shows channel-relevant stores only (Shopify stores in Shopify tab, Trendyol stores in Trendyol tab)
- If store filter becomes invalid on tab switch (store doesn't exist for that channel), auto-clear to "All stores"

### Claude's Discretion
- Tab component styling and layout
- Error panel collapse/expand behavior
- Search debounce timing for product lookup
- Validation messages for manual order form

</decisions>

<specifics>
## Specific Ideas

- Price from MasterProduct sale price — user mentioned "pretul ar trebui sa fie cel de vanzare din master product list"
- Temu placeholder is temporary — full integration expected in future phase

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 07.4-orders-channel-split*
*Context gathered: 2026-02-03*
