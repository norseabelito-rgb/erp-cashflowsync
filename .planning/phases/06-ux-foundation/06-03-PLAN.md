---
phase: 06-ux-foundation
plan: 03
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - src/lib/design-system.ts
  - src/app/globals.css
  - src/components/ui/table.tsx
autonomous: true

must_haves:
  truths:
    - "Design system has standardized spacing scale (4px base unit)"
    - "Tables have alternating row colors for easier scanning"
    - "All pages use consistent shadow and border radius values"
    - "Status colors are applied consistently via CSS variables"
  artifacts:
    - path: "src/lib/design-system.ts"
      provides: "Extended design tokens with spacing scale"
      contains: "SPACING_SCALE"
    - path: "src/app/globals.css"
      provides: "CSS variable updates for visual consistency"
      contains: "--row-stripe"
    - path: "src/components/ui/table.tsx"
      provides: "Table component with zebra striping"
      contains: "even:bg-muted/30"
  key_links:
    - from: "src/components/ui/table.tsx"
      to: "src/lib/design-system.ts"
      via: "Design token imports"
      pattern: "from.*design-system"
---

<objective>
Establish visual consistency standards across the application by extending design tokens, adding table zebra striping, and ensuring all visual elements follow a defined pattern.

Purpose: Create a clean, minimal visual style (like Notion) with consistent spacing, shadows, colors, and alternating row colors in tables. This forms the visual foundation that all pages will follow.

Output: Extended design system tokens, updated CSS variables, and table component with zebra striping ready for application across all pages.
</objective>

<execution_context>
@/Users/stefanpanaite/.claude/get-shit-done/workflows/execute-plan.md
@/Users/stefanpanaite/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-ux-foundation/06-CONTEXT.md
@.planning/phases/06-ux-foundation/06-RESEARCH.md

# Existing files to extend:
@src/lib/design-system.ts
@src/app/globals.css
@src/components/ui/table.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend design-system.ts with spacing and visual standards</name>
  <files>src/lib/design-system.ts</files>
  <action>
Add new constants to the existing design-system.ts file:

1. SPACING_SCALE - Based on 4px base unit (Notion-like):
```typescript
export const SPACING_SCALE = {
  xs: "space-y-1",    // 4px
  sm: "space-y-2",    // 8px
  md: "space-y-4",    // 16px
  lg: "space-y-6",    // 24px
  xl: "space-y-8",    // 32px
} as const;

export const GAP_SCALE = {
  xs: "gap-1",
  sm: "gap-2",
  md: "gap-4",
  lg: "gap-6",
  xl: "gap-8",
} as const;
```

2. SHADOW_SCALE - Minimal shadows:
```typescript
export const SHADOW_SCALE = {
  none: "shadow-none",
  sm: "shadow-sm",        // Subtle elevation
  md: "shadow-md",        // Cards, dropdowns
  lg: "shadow-lg",        // Modals, popovers
} as const;
```

3. BORDER_RADIUS - Consistent rounding:
```typescript
export const BORDER_RADIUS = {
  none: "rounded-none",
  sm: "rounded-sm",
  md: "rounded-md",
  lg: "rounded-lg",
  xl: "rounded-xl",
  full: "rounded-full",
} as const;
```

4. TEXT_STYLES - Typography hierarchy:
```typescript
export const TEXT_STYLES = {
  h1: "text-2xl md:text-3xl font-bold tracking-tight",
  h2: "text-xl md:text-2xl font-semibold tracking-tight",
  h3: "text-lg font-semibold",
  body: "text-sm text-foreground",
  muted: "text-sm text-muted-foreground",
  small: "text-xs text-muted-foreground",
} as const;
```

5. VISUAL_PATTERNS - Reusable visual combinations:
```typescript
export const VISUAL_PATTERNS = {
  // Notion-like minimal card
  card: "bg-card rounded-lg border shadow-sm",
  cardHover: "bg-card rounded-lg border shadow-sm transition-all hover:shadow-md hover:border-primary/30",
  // Subtle background for sections
  section: "bg-muted/30 rounded-lg p-4",
  // Input container
  inputGroup: "bg-background rounded-md border",
} as const;
```
  </action>
  <verify>
- grep for "SPACING_SCALE" in design-system.ts
- grep for "SHADOW_SCALE" in design-system.ts
- grep for "TEXT_STYLES" in design-system.ts
  </verify>
  <done>Design system extended with spacing, shadow, border radius, and typography scales</done>
</task>

<task type="auto">
  <name>Task 2: Add CSS variables for visual consistency</name>
  <files>src/app/globals.css</files>
  <action>
Add new CSS variables to globals.css for enhanced visual consistency.

In the :root section, add:
```css
/* Table row striping */
--row-stripe: hsl(var(--muted) / 0.3);

/* Consistent transitions */
--transition-fast: 150ms ease-out;
--transition-normal: 200ms ease-out;
--transition-slow: 300ms ease-out;

/* Focus ring consistency */
--focus-ring: hsl(var(--ring) / 0.5);
--focus-ring-offset: 2px;
```

In the .dark section, adjust:
```css
/* Slightly different stripe for dark mode */
--row-stripe: hsl(var(--muted) / 0.2);
```

Add utility classes (after @tailwind utilities):
```css
@layer utilities {
  /* Zebra striping for tables */
  .table-zebra tbody tr:nth-child(even) {
    background-color: var(--row-stripe);
  }

  /* Focus visible enhancement */
  .focus-enhanced:focus-visible {
    outline: none;
    box-shadow: 0 0 0 var(--focus-ring-offset) hsl(var(--background)),
                0 0 0 calc(var(--focus-ring-offset) + 2px) var(--focus-ring);
  }

  /* Notion-like subtle hover */
  .hover-subtle {
    transition: background-color var(--transition-fast);
  }
  .hover-subtle:hover {
    background-color: var(--row-stripe);
  }
}
```
  </action>
  <verify>
- grep for "--row-stripe" in globals.css
- grep for "table-zebra" in globals.css
- grep for "focus-enhanced" in globals.css
  </verify>
  <done>CSS variables and utility classes added for visual consistency</done>
</task>

<task type="auto">
  <name>Task 3: Update table.tsx with zebra striping</name>
  <files>src/components/ui/table.tsx</files>
  <action>
Update the Table component to support alternating row colors.

1. Modify the Table component to accept a `striped` prop:
```typescript
interface TableProps extends React.HTMLAttributes<HTMLTableElement> {
  /** Enable alternating row colors */
  striped?: boolean;
}
```

2. Apply striping via the table-zebra utility class when striped={true}:
```typescript
const Table = React.forwardRef<HTMLTableElement, TableProps>(
  ({ className, striped = false, ...props }, ref) => (
    <div className="relative w-full overflow-auto">
      <table
        ref={ref}
        className={cn(
          "w-full caption-bottom text-sm",
          striped && "table-zebra",
          className
        )}
        {...props}
      />
    </div>
  )
);
```

3. Update TableRow to have hover state:
```typescript
const TableRow = React.forwardRef<...>(
  ({ className, ...props }, ref) => (
    <tr
      ref={ref}
      className={cn(
        "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
        className
      )}
      {...props}
    />
  )
);
```

Note: Maintain backward compatibility - striped defaults to false so existing tables work unchanged.
  </action>
  <verify>
- grep for "striped" in table.tsx
- grep for "table-zebra" in table.tsx
- Ensure TableProps interface exists
  </verify>
  <done>Table component updated with optional zebra striping support</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Design system check:
```bash
grep -c "export const" src/lib/design-system.ts  # Should be >= 15
```

2. CSS variables check:
```bash
grep -n "row-stripe" src/app/globals.css
grep -n "table-zebra" src/app/globals.css
```

3. Table check:
```bash
grep -n "striped" src/components/ui/table.tsx
```

4. Build check:
```bash
npm run build 2>&1 | head -30
```
</verification>

<success_criteria>
- Design system has SPACING_SCALE, SHADOW_SCALE, BORDER_RADIUS, TEXT_STYLES
- CSS variables include --row-stripe and transition variables
- table-zebra utility class defined in globals.css
- Table component accepts striped prop
- Build passes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-ux-foundation/06-03-SUMMARY.md`
</output>
